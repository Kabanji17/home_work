# Учебный проект второго курса SkyPro

## Описание:

Учебный проект второго курса  - это разработанные функции на Python имитирующие части работы с веб-приложением какого-нибудь крупного банка. А также оттачивание работы с GitHub. По сути сделан виджет, который показывает несколько последних успешных банковских операций клиента.

## Установка:

1. Клонируйте репозиторий:
```
git clone git@github.com:Kabanji17/home_work.git
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
## Использование:

1. В модуле ```masks``` содержатся функции маскирующие номер карты и номер счета пользователя.
2. В модуле ```widget``` содержатся функция, которая умеет обрабатывать информацию как о картах, так и о счетах, а также форматтер даты из строки.
3. В модуле ```processing``` содержит фильтры словарей.
4. Модуль ```generators``` содержит функции для работы с массивами транзакций. В нем созданы инструменты для эффективной работы с большими объемами данных транзакций, используя возможности Python для обработки данных через генераторы. Эти генераторы позволяют финансовым аналитикам быстро и удобно находить нужную информацию о транзакциях и проводить анализ данных.
5. В модуле ```decorators``` разработан декоратор log, который автоматически регистрирует детали выполнения функций, такие как время вызова, имя функции, передаваемые аргументы, результат выполнения и информация об ошибках. Это позволяет обеспечить более глубокий контроль и анализ поведения программы в процессе ее выполнения.
6. В модуле ```utils``` функция, которая принимает на вход путь до JSON-файла и возвращает список словарей с данными о финансовых транзакциях.
7. В модуле ```external_api``` функция, которая принимает на вход транзакцию и возвращает сумму транзакции (amount) в рублях, тип данных — float. Если транзакция была в USD или EUR, происходит обращение к внешнему API для получения текущего курса валют и конвертации суммы операции в рубли.
8. В модули добавлено логирование работы функций. Логи записываются в файлы папки ```logs```
9. В модуле ```readers``` содержатся функции для преобразования CSV и Excel файлов в списки словарей. Загрузите в директорию data. Укажите полный путь до файла при вызове функции и получите в выводе список словарей.
10. В модуле ```searching``` ....
11. в модуле ```main``` .....

Формат данных для операций с транзакциями:
```
        {
            "id": data,
            "state": data,
            "date": data,
            "operationAmount": {
                "amount": data,
                "currency": {
                    "name": data,
                    "code": data,
                },
            },
            "description": data,
            "from": data,
            "to": data,
        }
```

## Тесты:
1. В программе используются фикстуры и параметризация, mock и patch
2. Программа покрыта тестами на 91%

### Покрытие тестами 

проверка:

Сначала заходим в папку ```tests``` и из нее включаем тесты:
```
cd tests
```
```
pytest --cov
```
```
Name                                                  Stmts   Miss  Cover
-------------------------------------------------------------------------
C:\Users\ksuha\my_prj\home_work\src\__init__.py           0      0   100%
C:\Users\ksuha\my_prj\home_work\src\decorators.py        23      1    96%
C:\Users\ksuha\my_prj\home_work\src\external_api.py      20      3    85%
C:\Users\ksuha\my_prj\home_work\src\generators.py        15      1    93%
C:\Users\ksuha\my_prj\home_work\src\masks.py             23      5    78%
C:\Users\ksuha\my_prj\home_work\src\processing.py        11      0   100%
C:\Users\ksuha\my_prj\home_work\src\readers.py           17     13    24%
C:\Users\ksuha\my_prj\home_work\src\searching.py         20      3    85%       
C:\Users\ksuha\my_prj\home_work\src\utils.py             22      3    86%       
C:\Users\ksuha\my_prj\home_work\src\widget.py            21      1    95%       
__init__.py                             
                                                          0      0   100%       
test_decorators.py                      
                                                         43      0   100%       
test_external_api.py                    
                                                         13      0   100%       
test_generators.py                      
                                                         20      0   100%       
test_masks.py                           
                                                          8      0   100%       
test_processing.py                      
                                                         10      0   100%       
test_readers.py                         
                                                          9      0   100%       
test_searching.py                       
                                                         28      1    96%       
test_utils.py                           
                                                         17      0   100%       
test_widget.py                          
                                                         11      0   100%       
-------------------------------------------------------------------------       
TOTAL                                   
                                                        331     31    91%     
```
## Документация:

Для получения дополнительной информации обратитесь к [документации](docs/README.md).

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE).